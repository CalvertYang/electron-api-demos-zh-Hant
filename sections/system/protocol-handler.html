<template class="task-template">
  <section id="protocol-section" class="section js-section u-category-system">
    <header class="section-header">
      <div class="section-wrapper">
        <h1>
          <svg class="section-icon"><use xlink:href="assets/img/icons.svg#icon-system"></use></svg>
          協定處理
        </h1>
        <h3><code>app</code> 模組提供了處理協定的方法。</h3>
        <p>這些方法允許你設定和取消你的應用程式應該當作預設應用程式的協定。與瀏覽器要求成為瀏覽網頁的預設設定類似。</p>

        <p>在瀏覽器查看<a href="http://electron.atom.io/docs/api/app">完整的 API 文件<span class="u-visible-to-screen-reader">(在新視窗開啟)</span></a>。</p>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="copy-to-demo-toggle" class="js-container-target demo-toggle-button">在另一個應用程式中用 URL 啟動應用程序
          <div class="demo-meta u-avoid-clicks">支援作業系統：Win、macOS <span class="demo-meta-divider">|</span> 程序：Main</div>
        </button>
        <div class="demo-box">
          <div class="demo-controls">
            <button class="demo-button" id="protocol-handler">查看範例</button>
          </div>
          <p>你可以將你的應用程式設定為開啟特定協定的預設應用程式。例如，在這個範例中我們將此應用程式設定為 <code>electron-api-demos://</code> 的預設值。上面的範例按鈕會在預設瀏覽器中開啟一個帶有連結的頁面。點選那個連結，它將重新啟動這個應用程式。</p>
          <h5>封裝</h5>
          <p>這個功能只有在你的應用程式封裝後才能在 macOS 上執行。在開發模式以命令列啟動時，它將沒有作用。封裝應用程式時，你需要確保應用程式的 macOS <code>plist</code> 已更新並包含了新的協定處理器。如果你使用的是 <code>electron-packager</code>，那麼可以加上 <code>--extend-info</code> 標記，並包含你所建立的 <code>plist</code> 路徑。本應用程式所用如下。</p>
          <h5>渲染器程序</h5>
          <pre><code data-path="renderer-process/system/protocol-handler.js"></code></pre>
          <h5>主程序</h5>
          <pre><code data-path="main-process/system/protocol-handler.js"></code></pre>
          <h5>macOS plist</h5>
          <pre><code class="language-xml" data-path="assets/mac/info.plist"></code></pre>
        </div>
      </div>
    </div>


    <script type="text/javascript">
      require('./renderer-process/system/protocol-handler')
    </script>

  </section>
</template>
